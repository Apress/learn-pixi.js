{"version":3,"sources":["../es6/rectangleCollision.js"],"names":[],"mappings":"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","file":"rectangleCollision.js","sourcesContent":["//Aliases\nlet Container = PIXI.Container,\n  autoDetectRenderer = PIXI.autoDetectRenderer,\n  loader = PIXI.loader,\n  Sprite = PIXI.Sprite,\n  Text = PIXI.Text;\n\n//Create a Pixi stage and renderer \nlet stage = new Container(),\n  renderer = autoDetectRenderer(256, 256);\ndocument.body.appendChild(renderer.view);\n\n//Set the canvas's border style and background color\nrenderer.view.style.border = \"1px dashed black\";\nrenderer.backgroundColor = \"0xFFFFFF\";\n\n//load an image and run the `setup` function when it's done\nloader\n  .add(\"images/cat64x64.png\")\n  .add(\"images/box64x64.png\")\n  .load(setup);\n\n//Define any variables that are used in more than one function\nlet cat, box, message, state;\n\nfunction setup() {\n\n  //Create the `cat` sprite \n  cat = new Sprite.fromImage(\"images/cat64x64.png\");\n\n  //Center the sprite\n  cat.x = 16;\n  cat.y = 32; \n\n  //Initialize the sprites's velocity variables\n  cat.vx = 0;\n  cat.vy = 0;\n\n  //Add the sprite to the stage\n  stage.addChild(cat);\n\n  //Create the `box` sprite and add it to the stage\n  box = new Sprite.fromImage(\"images/box64x64.png\");\n  box.x = renderer.view.width / 2 - box.width / 2;\n  box.y = renderer.view.height / 2 - box.height / 2;\n  stage.addChild(box);\n\n  //Create the text sprite\n  message = new Text(\n    \"No collision...\", \n    {font: \"18px sans-serif\", fill: \"black\"}\n  );\n  message.position.set(8, 8);\n  stage.addChild(message);\n\n  //Capture the keyboard arrow keys\n  let left = keyboard(37),\n      up = keyboard(38),\n      right = keyboard(39),\n      down = keyboard(40);\n\n  //Left arrow key `press` method\n  left.press = function() {\n\n    //Change the cat.s velocity when the key is pressed\n    cat.vx = -5;\n    cat.vy = 0;\n  };\n\n  //Left arrow key `release` method\n  left.release = function() {\n\n    //If the left arrow has been released, and the right arrow isn't down,\n    //and the cat isn't moving vertically, stop the sprite from moving\n    //by setting its velocity to zero\n    if (!right.isDown && cat.vy === 0) {\n      cat.vx = 0;\n    }\n  };\n\n  //Up\n  up.press = () => {\n    cat.vy = -5;\n    cat.vx = 0;\n  };\n  up.release = () => {\n    if (!down.isDown && cat.vx === 0) {\n      cat.vy = 0;\n    }\n  };\n\n  //Right\n  right.press = () => {\n    cat.vx = 5;\n    cat.vy = 0;\n  };\n  right.release = () => {\n    if (!left.isDown && cat.vy === 0) {\n      cat.vx = 0;\n    }\n  };\n\n  //Down\n  down.press = () => {\n    cat.vy = 5;\n    cat.vx = 0;\n  };\n  down.release = () => {\n    if (!up.isDown && cat.vx === 0) {\n      cat.vy = 0;\n    }\n  };\n\n  //Set the game's current state to `play`\n  state = play;\n \n  //Start the game loop\n  gameLoop();\n}\n\nfunction gameLoop(){\n\n  //Loop this function 60 times per second\n  requestAnimationFrame(gameLoop);\n\n  //Update the current game state:\n  state();  \n\n  //Render the stage\n  renderer.render(stage);\n}\n\nfunction play() {\n\n  //Apply the velocity values to the sprite's position to make it move\n  cat.x += cat.vx;\n  cat.y += cat.vy;\n\n  //Check for a collision between the cat and the box\n  if (hitTestRectangle(cat, box)) {\n\n    //If there's a collision, change the message text and tint the box red\n    message.text = \"hit!\";\n    box.tint = 0xFF3300;\n  } else {\n\n    //If there's no collision, reset the message text and the box's color\n    message.text = \"No collision...\";\n    box.tint = 0xFFFFFF;\n  }\n}\n\n//The hitTestRectangle function\nfunction hitTestRectangle(r1, r2) {\n\n  //Calculate `centerX` and `centerY` properties on the sprites\n  r1.centerX = r1.x + r1.width / 2;\n  r1.centerY = r1.y + r1.height / 2;\n  r2.centerX = r2.x + r2.width / 2;\n  r2.centerY = r2.y + r2.height / 2;\n\n  //Calculate the `halfWidth` and `halfHeight` properties of the sprites\n  r1.halfWidth = r1.width / 2;\n  r1.halfHeight = r1.height / 2;\n  r2.halfWidth = r2.width / 2;\n  r2.halfHeight = r2.height / 2;\n\n  //Create a `collision` variable that will tell us\n  //if a collision is occurring\n  let collision = false;\n\n  //Check whether the shapes of the sprites are overlapping. If they\n  //are, set `collision` to `true`\n  if (Math.abs(r1.centerX - r2.centerX) < r1.halfWidth + r2.halfWidth\n  && Math.abs(r1.centerY - r2.centerY) < r1.halfHeight + r2.halfHeight) {\n    collision = true;\n  }\n\n  //Return the value of `collision` back to the main program\n  return collision;\n}\n\n//The `keyboard` helper function\nfunction keyboard(keyCode) {\n  let key = {};\n  key.code = keyCode;\n  key.isDown = false;\n  key.isUp = true;\n  key.press = undefined;\n  key.release = undefined;\n  //The `downHandler`\n  key.downHandler = event  => {\n    if (event.keyCode === key.code) {\n      if (key.isUp && key.press) key.press();\n      key.isDown = true;\n      key.isUp = false;\n    }\n    event.preventDefault();\n  };\n\n  //The `upHandler`\n  key.upHandler = event => {\n    if (event.keyCode === key.code) {\n      if (key.isDown && key.release) key.release();\n      key.isDown = false;\n      key.isUp = true;\n    }\n    event.preventDefault();\n  };\n\n  //Attach event listeners\n  window.addEventListener(\n    \"keydown\", key.downHandler.bind(key), false\n  );\n  window.addEventListener(\n    \"keyup\", key.upHandler.bind(key), false\n  );\n\n  //Return the key object\n  return key;\n}\n\n\n\n"]}